pipeline {
	agent any
		stages {
			stage('Build Docker image') {
				steps {
				script {
   					 def dockerImage = docker.build('fibonnaci:2.0', '.')
				}
				}
			}
			stage('Push to Docker Hub') {
			steps {
			withCredentials([usernamePassword(credentialsId: 'Docker_Login', usernameVariable: 'DOCKER_USERNAME', passwordVariable: 'DOCKER_PASSWORD')]) {
			sh 'docker login -u $DOCKER_USERNAME -p $DOCKER_PASSWORD'
			}
			sh 'docker tag fibonacci:2.0 shreyam2001/fibonacci-2:2.0'
			sh 'docker push shreyam2001/fibonacci-2:2.0'
			}
			}
		}
}
